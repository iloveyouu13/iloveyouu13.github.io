
<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>For My Love ğŸ’–</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <style>
    @import url('https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700&display=swap');
    
    * {
      font-family: 'Poppins', sans-serif;
    }
    
    .gradient-bg {
      background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
    }
    
    .glass-effect {
      background: rgba(255, 255, 255, 0.25);
      backdrop-filter: blur(10px);
      border: 1px solid rgba(255, 255, 255, 0.18);
    }
    
    .heart-float {
      animation: float 3s ease-in-out infinite;
    }
    
    .love-pulse {
      animation: pulse 2s ease-in-out infinite;
    }
    
    @keyframes float {
      0%, 100% { transform: translateY(0px); }
      50% { transform: translateY(-10px); }
    }
    
    @keyframes pulse {
      0%, 100% { transform: scale(1); }
      50% { transform: scale(1.05); }
    }
    
    .shimmer {
      background: linear-gradient(45deg, transparent 30%, rgba(255,255,255,0.5) 50%, transparent 70%);
      background-size: 200% 100%;
      animation: shimmer 3s infinite;
    }
    
    @keyframes shimmer {
      0% { background-position: -200% 0; }
      100% { background-position: 200% 0; }
    }
    
    .heart-bg {
      background-image: url("data:image/svg+xml,%3Csvg width='60' height='60' viewBox='0 0 60 60' xmlns='http://www.w3.org/2000/svg'%3E%3Cg fill='none' fill-rule='evenodd'%3E%3Cg fill='%23ff69b4' fill-opacity='0.1'%3E%3Cpath d='M30 50c-5.5-10-15-20-15-30 0-8.3 6.7-15 15-15s15 6.7 15 15c0 10-9.5 20-15 30z'/%3E%3C/g%3E%3C/g%3E%3C/svg%3E");
    }
    
    .btn-love {
      background: linear-gradient(45deg, #ff6b6b, #ff8e8e, #ff6b6b);
      background-size: 200% 200%;
      animation: gradient-shift 3s ease infinite;
      transition: all 0.3s ease;
    }
    
    .btn-love:hover {
      transform: translateY(-2px);
      box-shadow: 0 10px 25px rgba(255, 107, 107, 0.4);
    }
    
    @keyframes gradient-shift {
      0%, 100% { background-position: 0% 50%; }
      50% { background-position: 100% 50%; }
    }
    
    .product-card {
      transition: all 0.3s ease;
      background: linear-gradient(145deg, #ffffff, #f8f9fa);
    }
    
    .product-card:hover {
      transform: translateY(-5px) scale(1.02);
      box-shadow: 0 20px 40px rgba(0,0,0,0.1);
    }
  </style>
</head>
<body class="gradient-bg min-h-screen heart-bg">
  <!-- Floating Hearts -->
  <div class="fixed inset-0 overflow-hidden pointer-events-none z-0">
    <div class="heart-float absolute top-20 left-10 text-pink-300 text-2xl opacity-70">ğŸ’–</div>
    <div class="heart-float absolute top-32 right-20 text-red-300 text-xl opacity-60" style="animation-delay: 1s;">ğŸ’•</div>
    <div class="heart-float absolute top-60 left-1/4 text-pink-400 text-lg opacity-50" style="animation-delay: 2s;">ğŸ’</div>
    <div class="heart-float absolute top-80 right-1/3 text-red-400 text-2xl opacity-40" style="animation-delay: 0.5s;">ğŸ’—</div>
    <div class="heart-float absolute bottom-40 left-16 text-pink-300 text-xl opacity-60" style="animation-delay: 1.5s;">ğŸ’˜</div>
    <div class="heart-float absolute bottom-20 right-12 text-red-300 text-lg opacity-70" style="animation-delay: 2.5s;">ğŸ’</div>
  </div>

  <div id="auth-container" class="relative z-10 max-w-md mx-auto p-8 glass-effect rounded-3xl shadow-2xl mb-6 mt-10 love-pulse">
    <div class="text-center mb-6">
      <h2 class="text-3xl font-bold text-white mb-2">Welcome My Love ğŸ’•</h2>
      <p class="text-pink-100 text-sm">Made specially for you, darling</p>
    </div>
    
    <form id="login-form" class="space-y-6">
      <div class="relative">
        <input id="email" type="email" placeholder="Your Email, Beautiful" required 
               class="w-full p-4 border-0 rounded-xl bg-white/20 backdrop-blur text-white placeholder-pink-200 focus:outline-none focus:ring-2 focus:ring-pink-300" />
        <span class="absolute right-3 top-4 text-pink-300">ğŸ’Œ</span>
      </div>
      <div class="relative">
        <input id="password" type="password" placeholder="Secret Password" required 
               class="w-full p-4 border-0 rounded-xl bg-white/20 backdrop-blur text-white placeholder-pink-200 focus:outline-none focus:ring-2 focus:ring-pink-300" />
        <span class="absolute right-3 top-4 text-pink-300">ğŸ”</span>
      </div>
      <button type="submit" class="w-full btn-love text-white p-4 rounded-xl font-semibold text-lg shadow-lg">
        Enter Our Love Space ğŸ’–
      </button>
    </form>
    
    <div class="flex items-center my-6">
      <div class="flex-1 h-px bg-pink-200/30"></div>
      <span class="px-4 text-pink-100 text-sm">or</span>
      <div class="flex-1 h-px bg-pink-200/30"></div>
    </div>
    
    <form id="signup-form" class="space-y-6">
      <div class="relative">
        <input id="signup-email" type="email" placeholder="Your Email, Sweetheart" required 
               class="w-full p-4 border-0 rounded-xl bg-white/20 backdrop-blur text-gray-500 aceholder-gray-200 focus:outline-none focus:ring-2 focus:ring-pink-300" />
        <span class="absolute right-3 top-4 text-gray-300">ğŸ’Œ</span>
      </div>
      <div class="relative">
        <input id="signup-password" type="password" placeholder="Create Secret Password" required 
               class="w-full p-4 border-0 rounded-xl bg-white/20 backdrop-blur text-gray-300 placeholder-pink-200 focus:outline-none focus:ring-2 focus:ring-pink-300" />
        <span class="absolute right-3 top-4 text-gray-300">ğŸ”</span>
      </div>
      <button type="submit" class="w-full bg-gradient-to-r from-pink-500 to-purple-500 text-white p-4 rounded-xl font-semibold text-lg shadow-lg hover:from-pink-600 hover:to-purple-600 transition-all duration-300 hover:shadow-xl">
        Join Our Love Story ğŸ’•
      </button>
    </form>
    
    <p id="auth-message" class="mt-4 text-center text-pink-200 font-medium"></p>
  </div>

  <div id="logout-container" class="relative z-10 max-w-4xl mx-auto p-6 mb-6 hidden">
    <div class="flex justify-between items-center glass-effect rounded-2xl p-4">
      <div class="text-gray-800">
        <h3 class="text-xl font-semibold">Hello Beautiful ğŸ’</h3>
        <p class="text-gray-500 text-sm">Hope you love what I made for you</p>
      </div>
      <button id="logout-btn" class="bg-red-400/80 backdrop-blur text-white px-6 py-3 rounded-xl hover:bg-red-500/80 transition-all duration-300 shadow-lg hover:shadow-xl">
        Leave ğŸ’”
      </button>
    </div>
  </div>

  <div class="relative z-10 max-w-4xl mx-auto p-6">
    <h1 class="text-5xl font-bold mb-8 text-center text-white drop-shadow-lg">
      <span class="shimmer bg-clip-text text-transparent bg-gradient-to-r from-pink-200 to-white">
        Made With Love For You ğŸ’–
      </span>
    </h1>
    <div id="product-list" class="grid md:grid-cols-2 lg:grid-cols-3 gap-6"></div>
  </div>

  <script type="module">
    import { createClient } from 'https://esm.sh/@supabase/supabase-js'

    const supabaseUrl = 'https://zoygjctbuldcnawrwnea.supabase.co'
    const supabaseKey = 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InpveWdqY3RidWxkY25hd3J3bmVhIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NDgyNjIzOTQsImV4cCI6MjA2MzgzODM5NH0.ecsmml55Rn0qUZEi4FPIzd0H7OENizXh512P-v7Wn7E'
    const supabase = createClient(supabaseUrl, supabaseKey)

    const authContainer = document.getElementById('auth-container')
    const loginForm = document.getElementById('login-form')
    const signupForm = document.getElementById('signup-form')
    const authMessage = document.getElementById('auth-message')
    const productList = document.getElementById('product-list')
    const logoutContainer = document.getElementById('logout-container')
    const logoutBtn = document.getElementById('logout-btn')

    // Add cute animations
    function addLoveMessage() {
      const messages = [
        "Loading with love ğŸ’•",
        "Preparing something special ğŸ’–",
        "Almost ready, darling ğŸ’",
        "Just for you, sweetheart ğŸ’"
      ]
      const randomMessage = messages[Math.floor(Math.random() * messages.length)]
      authMessage.textContent = randomMessage
      authMessage.className = "mt-4 text-center text-pink-200 font-medium"
    }

    // Login handler
    loginForm.addEventListener('submit', async (e) => {
      e.preventDefault()
      addLoveMessage()
      
      const email = document.getElementById('email').value
      const password = document.getElementById('password').value

      const { error } = await supabase.auth.signInWithPassword({ email, password })

      if (error) {
        authMessage.textContent = `Oops! ${error.message} ğŸ’”`
        authMessage.className = "mt-4 text-center text-red-200 font-medium"
      } else {
        authMessage.textContent = "Welcome back, my love! ğŸ’–âœ¨"
        authMessage.className = "mt-4 text-center text-green-200 font-medium"
        setTimeout(showApp, 1000)
      }
    })

    // Signup handler
    signupForm.addEventListener('submit', async (e) => {
      e.preventDefault()
      addLoveMessage()
      
      const email = document.getElementById('signup-email').value
      const password = document.getElementById('signup-password').value

      const { error } = await supabase.auth.signUp({ email, password })

      if (error) {
        authMessage.textContent = `Something went wrong, darling: ${error.message} ğŸ’”`
        authMessage.className = "mt-4 text-center text-red-200 font-medium"
      } else {
        authMessage.textContent = 'Yay! Check your email to join our love story! ğŸ’ŒğŸ’•'
        authMessage.className = "mt-4 text-center text-green-200 font-medium"
      }
    })

    // Logout handler
    logoutBtn.addEventListener('click', async () => {
      await supabase.auth.signOut()
      hideApp()
    })

    // Show app UI after login
    function showApp() {
      authContainer.style.display = 'none'
      logoutContainer.style.display = 'block'
      loadProducts()
    }

    // Hide app UI when logged out
    function hideApp() {
      authContainer.style.display = 'block'
      logoutContainer.style.display = 'none'
      productList.innerHTML = ''
      authMessage.textContent = ''
    }

    // Load products from Supabase
    async function loadProducts() {
      const { data: products, error } = await supabase
        .from('products')
        .select('*')

      if (error) {
        productList.innerHTML = `
          <div class="col-span-full glass-effect rounded-2xl p-8 text-center">
            <p class="text-pink-200 text-xl">Oops! Couldn't load our treasures ğŸ’”</p>
            <p class="text-pink-100 text-sm mt-2">But you're still my greatest treasure ğŸ’–</p>
          </div>
        `
        console.error('âŒ Error loading products:', error.message)
        return
      }

      if (!products || products.length === 0) {
        productList.innerHTML = `
          <div class="col-span-full glass-effect rounded-2xl p-12 text-center">
            <p class="text-pink-200 text-2xl mb-4">No products yet, but... ğŸ’•</p>
            <p class="text-pink-100 text-lg">You're the only thing I need ğŸ’–</p>
            <div class="mt-6 text-6xl">ğŸ’</div>
          </div>
        `
        return
      }

      productList.innerHTML = ''

      products.forEach((product, index) => {
        const card = document.createElement('div')
        card.className = 'product-card rounded-2xl shadow-xl overflow-hidden border border-pink-100/20'
        card.style.animationDelay = `${index * 0.1}s`
        
        const hearts = ['ğŸ’–', 'ğŸ’•', 'ğŸ’', 'ğŸ’—', 'ğŸ’˜', 'ğŸ’']
        const randomHeart = hearts[Math.floor(Math.random() * hearts.length)]
        
        card.innerHTML = `
          <div class="relative p-6 bg-gradient-to-br from-pink-50 to-purple-50">
            <div class="absolute top-4 right-4 text-2xl opacity-70">${randomHeart}</div>
            <h2 class="text-2xl font-semibold text-gray-800 mb-3 pr-8">${product.name}</h2>
            <p class="text-gray-600 mb-4 leading-relaxed">${product.description}</p>
            <div class="flex items-center justify-between">
              <p class="text-green-600 font-bold text-xl">$${product.price}</p>
              <button class="bg-gradient-to-r from-pink-400 to-purple-400 text-white px-4 py-2 rounded-lg hover:from-pink-500 hover:to-purple-500 transition-all duration-300 shadow-md hover:shadow-lg">
                Get This ğŸ’•
              </button>
            </div>
          </div>
        `
        
        productList.appendChild(card)
        
        // Add entrance animation
        setTimeout(() => {
          card.style.opacity = '0'
          card.style.transform = 'translateY(20px)'
          card.style.transition = 'all 0.6s ease'
          requestAnimationFrame(() => {
            card.style.opacity = '1'
            card.style.transform = 'translateY(0)'
          })
        }, index * 100)
      })
    }

    // Check session on page load
    supabase.auth.getSession().then(({ data: { session } }) => {
      if (session) {
        showApp()
      } else {
        hideApp()
      }
    })

    // Listen for auth state changes
    supabase.auth.onAuthStateChange((_event, session) => {
      if (session) {
        showApp()
      } else {
        hideApp()
      }
    })

    // Add some cute interactive effects
    document.addEventListener('mousemove', (e) => {
      const hearts = document.querySelectorAll('.heart-float')
      const mouseX = e.clientX
      const mouseY = e.clientY
      
      hearts.forEach((heart, index) => {
        const rect = heart.getBoundingClientRect()
        const heartX = rect.left + rect.width / 2
        const heartY = rect.top + rect.height / 2
        
        const distance = Math.sqrt((mouseX - heartX) ** 2 + (mouseY - heartY) ** 2)
        
        if (distance < 100) {
          const angle = Math.atan2(mouseY - heartY, mouseX - heartX)
          const force = (100 - distance) / 100
          const moveX = Math.cos(angle) * force * 20
          const moveY = Math.sin(angle) * force * 20
          
          heart.style.transform = `translate(${moveX}px, ${moveY}px)`
        } else {
          heart.style.transform = 'translate(0, 0)'
        }
      })
    })

    // Add click effects to hearts
    document.querySelectorAll('.heart-float').forEach(heart => {
      heart.addEventListener('click', () => {
        heart.style.transform = 'scale(1.5) rotate(360deg)'
        heart.style.transition = 'transform 0.6s ease'
        setTimeout(() => {
          heart.style.transform = 'scale(1) rotate(0deg)'
        }, 600)
      })
    })
  </script>
</body>
</html>